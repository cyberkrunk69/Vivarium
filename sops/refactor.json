{
  "name": "refactor_module",
  "steps": [
    {
      "action": "read_target_file",
      "output": "original_code"
    },
    {
      "action": "identify_patterns",
      "input": "original_code",
      "output": "patterns"
    },
    {
      "action": "check_existing_utils",
      "output": "available_utils"
    },
    {
      "action": "plan_migration",
      "input": ["patterns", "available_utils"],
      "output": "migration_plan"
    },
    {
      "action": "execute_migration",
      "input": "migration_plan"
    },
    {
      "action": "verify_no_regressions",
      "output": "test_results"
    },
    {
      "action": "document_lessons",
      "input": "test_results"
    }
  ],
  "quality_gates": ["tests_pass", "no_new_warnings", "lesson_documented"]
}
